# Production Figures – Hamiltonian of Mean Force

This folder contains **exactly** the scripts and data needed to reproduce each
paper figure. Nothing else. Scripts use paths relative to this folder.

```
production/
  data/
    sweeps_v43.csv         ← copy of hmf_omega1_bestkernel_sweeps_disc_cont_codex_v43_scan.csv
    bandwidth_v36.csv      ← copy of hmf_narrowband_convergence_scan_codex_v36.csv
  fig1_chi_theory.py
  fig2_ed_vs_analytic.py
  fig3_bandwidth_convergence.py
  fig4_sweep_landscape.py
  README.md                ← this file
```

Output goes to `../../manuscript/figures/` (i.e. `manuscript/figures/`).

## Running

```powershell
cd simulations/production
py fig1_chi_theory.py
py fig2_ed_vs_analytic.py
py fig3_bandwidth_convergence.py
py fig4_sweep_landscape.py
```

Run them in any order; Fig 1 needs no CSV data.

## Figure–data–section mapping

| Figure | Script | Data | Manuscript section |
|--------|--------|------|-------------------|
| Fig 1 – Chi crossover theory | `fig1_chi_theory.py` | *(none, analytic)* | Sec. V, §The χ crossover function |
| Fig 2 – ED vs analytic sweeps | `fig2_ed_vs_analytic.py` | `sweeps_v43.csv` | Sec. V, §ED versus ordered-kernel |
| Fig 3 – Bandwidth convergence | `fig3_bandwidth_convergence.py` | `bandwidth_v36.csv` | Sec. V, §Simulability crossover |
| Fig 4 – Sweep landscape | `fig4_sweep_landscape.py` | `sweeps_v43.csv` | Sec. V, §Branch asymmetry |

## Source simulation scripts (in `simulations/src/`)

| CSV | Generated by |
|-----|-------------|
| `sweeps_v43.csv` | `hmf_omega1_bestkernel_sweeps_disc_cont_codex_v43_scan.py` |
| `bandwidth_v36.csv` | `hmf_narrowband_convergence_scan_codex_v36.py` |

Do **not** re-run those simulation scripts unless you need fresh data — they
run full ED + analytic computations over a grid and are slow. The production
plotting scripts are pure data-visualization wrappers.

## Key physical parameters

**Sweeps (v43):** ω_q = 1, N_modes = 2, n_cut = 6, window = [0.2, 1.8]
  - Three sweeps: coupling g ∈ [0, 2] at β=2; temperature β ∈ [0.5, 10] at g=0.5; angle θ ∈ [0, π/2] at β=2.
  - Three analytic branches per point: ED, discrete (N_modes=2), continuous (N_modes=40).

**Bandwidth scan (v36):** ω_q = 2, g = 0.5, N_modes = 3, n_cut ∈ {4, 5, 6}
  - Magic bandwidth B* = 2(ω_q − ω_floor) = 2(2 − 0.1) = **3.8**
  - Empirical RMSE minimum at **B = 3.2**
